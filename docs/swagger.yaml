openapi: 3.0.0
info:
  title: Cinema Tech API
  description: Gerenciamento de cinema de ponta a ponta
  version: 1.0.0
servers:
  - description: Producao
    url: ${SERVER_URL}
  - description: Teste local
    url: 'http://localhost:3000/v1'
components:
  securitySchemes:
    JWT:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: |
        O sistema utiliza autenticação baseada em JWT (JSON Web Token). Após realizar o cadastro no endpoint `/register` ou efetuar login no endpoint `/login`, um token JWT será gerado. 

        Para acessar endpoints protegidos, você deve incluir o token JWT no no campo "Value:". 

        **Atenção:** Acesso a determinados endpoints requer permissões administrativas. Certifique-se de que você possui as credenciais apropriadas antes de tentar acessar esses recursos.
  schemas:
    Usuarios:
      type: object
      properties:
        id_usuario:
          type: integer
          readOnly: true
          description: "Identificador único do usuario."
          example: "1"
        nome:
          type: string
          description: "Nome completo do usuário."
          example: "João da Silva"
        email:
          type: string
          description: "Endereço de e-mail do usuário."
          example: "joao.silva@gmail.com"
        senha:
          type: string
          description: "Senha para autenticação do usuário."
          example: "senha123"
        re_senha:
          type: string
          description: "Campo de confirmação de senha, deve ser igual ao campo 'senha'."
          example: "senha123"
        cpf:
          type: string
          description: "Número do CPF do usuário, com 11 dígitos."
          example: "12345678901"
        data_nascimento:
          type: string
          format: date
          description: "Data de nascimento do usuário, no formato AAAA-MM-DD."
          example: "2000-10-10"
        id_estado:
          type: integer
          description: "Identificador do estado onde o usuário reside."
          example: 1
        id_cidade:
          type: integer
          description: "Identificador da cidade onde o usuário reside."
          example: 1
        codigo_ref:
          type: string
          description: "Código de referência adicional associado ao usuário."
          example: "abc123"
      required:
        - nome
        - email
        - senha
        - re_senha
        - cpf
        - data_nascimento
        - id_estado
        - id_cidade
    Filmes:
      type: object
      properties:
        id_filme:
          type: integer
          readOnly: true
          example: 1
          description: "Identificador único do filme."
        id_api:
          type: integer
          readOnly: true
          example: null
          description: "Identificador único do filme cadastrado por uma API de terceiros, se aplicável."
        titulo:
          type: string
          example: "Exemplo de Filme"
          description: "Título do filme."
        slug:
          type: string
          example: "exemplo-de-filme"
          description: "Slug do título do filme."
        sinopse:
          type: string
          example: "Uma breve descrição do filme."
          description: "Sinopse do filme, fornecendo uma visão geral da trama."
        data_lancamento:
          type: string
          format: date
          example: "2024-09-01"
          description: "Data de lançamento do filme no formato YYYY-MM-DD."
        duracao:
          type: integer
          example: 120
          description: "Duração do filme em minutos."
        classificacao_etaria:
          type: integer
          example: 12
          description: "Classificação etária recomendada para o filme."
        poster_path:
          type: string
          format: uri
          example: "https://link.net/"
          description: "URL do poster do filme."
        trailer_url:
          type: string
          format: uri
          example: "https://link.net/"
          description: "URL do trailer do filme."
        nota_imdb:
          type: number
          format: float
          example: 8.7
          description: "Nota do filme no IMDb, em uma escala de 0 a 10."
        generos:
          type: array
          items:
            type: integer
          example: [1, 4, 6]
          description: "Lista de IDs dos gêneros associados ao filme."
      required:
        - titulo
        - sinopse
        - data_lancamento
        - duracao
        - classificacao_etaria
        - poster_path
        - trailer_url
        - nota_imdb
        - generos
    Generos:
      type: object
      properties:
        id_genero:
          type: integer
          example: 1
          readOnly: true
          description: "Identificador único do gênero, gerado automaticamente."
        id_api:
          type: integer
          readOnly: true
          example: null
          description: "Identificador único do genero cadastrado por uma API de terceiros, se aplicável."
        nome_genero:
          type: string
          example: "Aventura"
          description: "Nome do gênero do filme."
      required:
        - nome_genero
    Estados:
      type: object
      properties:
        id_estado:
          type: integer
          example: 1
          readOnly: true
          description: "Identificador único do estado, gerado automaticamente."
        nome_estado:
          type: string
          example: "São Paulo"
          description: "Nome completo do estado."
        sigla_estado:
          type: string
          example: "SP"
          description: "Sigla do estado, composta por duas letras."
      required:
        - nome_estado
        - sigla_estado
    Cidades:
      type: object
      properties:
        id_cidade:
          type: integer
          example: 1
          readOnly: true
          description: "Identificador único da cidade, gerado automaticamente."
        nome_cidade:
          type: string
          example: "Alagoinhas"
          description: "Nome completo da cidade."
        id_estado:
          type: integer
          example: 11
          description: "Identificador único do estado ao qual a cidade pertence."
      required:
        - nome_cidade
        - id_estado
    Salas:
      type: object
      properties:
        id_sala:
          type: integer
          example: 1
          readOnly: true
          description: "Identificador único da sala, gerado automaticamente."
        nome_sala:
          type: string
          example: "ROOMEXEMPLO"
          description: "Nome da sala."
        capacidade:
          type: integer
          readOnly: true
          example: 0
          description: "Capacidade total de assentos na sala."
        id_tipo_sala:
          type: integer
          example: 1
          description: "Identificador do tipo de sala."
        ativo:
          type: boolean
          example: true
          description: "Indica se a sala está ativa."
        cadeiras:
          type: array
          items:
            $ref: '#/components/schemas/Cadeiras'
          description: "Lista de cadeiras disponíveis na sala."
        tipoSala:
          type: object
          properties:
            id_tipo_sala:
              type: integer
              example: 1
              description: "Identificador único do tipo de sala."
            descricao:
              type: string
              example: "Normal"
              description: "Descrição do tipo de sala, como Normal, VIP, etc."
          description: "Informações sobre o tipo de sala."
      required:
        - nome_sala
        - id_tipo_sala
        - ativo
        - cadeiras
    TipoSalas:
      type: object
      properties:
        id_tipo_sala:
          type: integer
          example: 1
          readOnly: true
          description: "Identificador único do tipo de sala, gerado automaticamente."
        descricao:
          type: string
          example: "IMEX"
          description: "Descrição do tipo de sala, indicando sua categoria ou características."
      required:
        - descricao
    Cadeiras:
      type: object
      properties:
        id_cadeira:
          type: integer
          readOnly: true
          description: "Identificador único da cadeira, gerado automaticamente."
          example: 1
        id_sala:
          type: integer
          description: "Identificador da sala à qual a cadeira pertence."
          example: 3
        linha:
          type: string
          description: "Linha onde a cadeira está localizada."
          maxLength: 1
          example: "F"
        numero:
          type: integer
          description: "Número da cadeira na linha."
          minimum: 1
          maximum: 99
          example: 32
        ativo:
          type: boolean
          description: "Indica se a cadeira está ativa."
          default: true
          example: true
      required:
        - id_sala
        - linha
        - numero
        - ativo
    TipoIngresso:
      type: object
      properties:
        id_tipo:
          type: integer
          readOnly: true
          description: "Identificador único do tipo de ingresso."
          example: 1
        descricao:
          type: string
          description: "Descrição do tipo de ingresso."
          example: "Ingresso Normal"
        ingressos:
          type: array
          description: "Lista de ingressos associados a este tipo."
        precos:
          type: array
          items:
            $ref: '#/components/schemas/PrecoIngresso'
          description: "Lista de preços de ingressos associados a este tipo."
      required:
        - descricao

    Sessao:
      type: object
      properties:
        id_sessao:
          type: integer
          example: 1
          description: "Identificador único da sessão."
        id_filme:
          type: integer
          example: 1
          description: "ID do filme associado à sessão."
        id_sala:
          type: integer
          example: 1
          description: "ID da sala onde a sessão será realizada."
        data_sessao:
          type: string
          format: date-time
          example: "2024-10-03T18:00:00Z"
          description: "Data e hora da sessão."
        filme:
          type: object
          properties:
            id_filme:
              type: integer
              example: 1
            titulo:
              type: string
              example: "Filme diferente"
          description: "Filme selecionado."
        sala:
          type: object
          properties:
            id_sala:
              type: integer
              example: 1
            nome_sala:
              type: string
              example: "GBD2"
            capacidade:
              type: integer
              example: 50
            id_tipo_sala:
              type: integer
              example: 3
          description: "Sala da sessão."
        reservas:
          type: array
          items:
            $ref: '#/components/schemas/Reserva'
          description: "Lista de reservas associadas à sessão."
        ingressos:
          type: array
          description: "Lista de ingressos associados à sessão."
        precos_ingresso:
          type: array
          items:
            $ref: '#/components/schemas/PrecoIngresso'
          description: "Lista de preços de ingressos associados à sessão."
      required:
        - id_filme
        - id_sala
        - data_sessao
        - filme
        - sala
    PrecoIngresso:
      type: object
      properties:
        id_preco:
          type: integer
          description: "O identificador único do preço do ingresso."
          example: 1
        id_sessao:
          type: integer
          description: "O identificador da sessão à qual o preço do ingresso pertence."
          example: 4
        id_tipo:
          type: integer
          description: "O identificador do tipo de ingresso associado a este preço."
          example: 1
        preco:
          type: string
          description: "O valor do preço do ingresso."
          example: "30.00"
      required:
        - id_sessao
        - id_tipo
        - preco

    Reserva:
      type: object
      properties:
        id_reserva:
          type: integer
          description: "O identificador único da reserva."
        id_usuario:
          type: integer
          description: "O identificador do usuário que fez a reserva."
        id_sessao:
          type: integer
          description: "O identificador da sessão para a qual a reserva foi feita."
        data_reserva:
          type: string
          format: date-time
          description: "A data e hora em que a reserva foi realizada."
        data_expiracao:
          type: string
          format: date-time
          description: "A data e hora em que a reserva expira."
        status:
          type: string
          description: "O status da reserva (ex: pendente, confirmado, cancelado)."
          enum: [pendente, confirmado, cancelado]
        total:
          type: number
          format: decimal
          description: "O valor total da reserva."
        transacao_id:
          type: string
          description: "O identificador da transação associada à reserva."
        cadeiras:
          type: array
          items:
            $ref: '#/components/schemas/Cadeiras'  # Refere-se ao schema Cadeiras
          description: "Lista de cadeiras associadas à reserva."
      required:
        - id_reserva
        - id_usuario
        - id_sessao
        - data_reserva
        - data_expiracao
        - status
        - total
      x-examples:
        Example 1:
          id_reserva: 1
          id_usuario: 2
          id_sessao: 3
          data_reserva: '2024-10-03T22:56:12Z'
          data_expiracao: '2024-10-04T22:56:12Z'
          status: 'confirmado'
          total: 45.00
          transacao_id: '25'
          cadeiras:
            - id_cadeira: 1
              id_sala: 3
              linha: 'F'
              numero: 32
              ativo: true
  responses:
    '200':
      description: Filme retornado com sucesso
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
              msg:
                type: string
              filmData:
                type: object
                properties:
                  id_filme:
                    type: integer
                  id_api:
                    type: integer
                  titulo:
                    type: string
                  slug:
                    type: string
                  sinopse:
                    type: string
                  data_lancamento:
                    type: string
                  duracao:
                    type: integer
                  classificacao_etaria:
                    type: integer
                  trailer_url:
                    type: string
                  backdrop_path:
                    type: string
                  nota_imdb:
                    type: string
            x-examples:
              Example 1:
                success: true
                msg: Filme cadastrado com sucesso
                filmData:
                  id_filme: 1
                  id_api: null
                  titulo: Exemplo de Filme
                  slug: exemplo-de-filme
                  sinopse: Uma breve descrição do filme.
                  data_lancamento: '2024-09-01T00:00:00.000Z'
                  duracao: 120
                  classificacao_etaria: 12
                  poster_path: 'https://meupc.net/'
                  trailer_url: 'https://meupc.net/'
                  nota_imdb: '8.7'

      headers: {}
    '400':
      description: Parâmetros inválidos
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: false
              msg:
                type: string
                example: Parâmetros inválidos
    '401':
      description: Não autorizado
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: false
              msg:
                type: string
                example: Não autorizado
    '403':
      description: Acesso negado. Apenas administradores podem acessar esta rota.
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: false
              msg:
                type: string
                example: Acesso negado. Apenas administradores podem acessar esta rota.
    '404':
      description: Não encontrado
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: false
              msg:
                type: string
                example: Não encontrado
    '500':
      description: Falha ao buscar os dados
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: false
              msg:
                type: string
                example: Falha ao buscar os dados
    200-Generos:
      description: Genero retornado com sucesso
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
              msg:
                type: string
              genre:
                type: object
                properties:
                  id_genero:
                    type: integer
                  id_api:
                    type: integer
                  nome_genero:
                    type: string
            x-examples:
              Example 1:
                success: true
                msg: Gênero criado com sucesso
                genre:
                  id_genero: 1
                  id_api: null
                  nome_genero: Aventura
          examples:
            Example 1:
              value:
                success: true
                msg: string
                genre:
                  id_genero: 0
                  id_api: 0
                  nome_genero: string
    200-Salas:
      description: Salas retornado com sucesso
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
              msg:
                type: string
              rooms:
                type: object
                properties:
                  nome_sala:
                    type: string
                  capacidade:
                    type: integer
                  id_tipo_sala:
                    type: integer
                  ativo:
                    type: boolean
                  cadeiras:
                    type: array
                    items:
                      type: integer
                  tipoSala:
                    type: array
                    items:
                      type: integer
            x-examples:
              Example 1:
                nome_sala: ROOMEXEMPLO
                capacidade: 0
                ativo: true
                cadeiras:
                  id_cadeira: 1
                  linha: F
                  numero: 32
                  ativo: true
                tipoSala:
                  id_tipo_sala: 1
                  descricao: Normal
    200-TipoSalas:
      description: Tipo de salas retornado com sucesso
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
              msg:
                type: string
              rooms:
                type: object
                properties:
                  descricao:
                    type: string
            x-examples:
              Example 1:
                descricao: IMEX

                examples:
                  Example 1:
                    value:
                      success: true
                      msg: string
                      genre:
                        id_tipo_sala: 2,
                        descricao: "3D"
    200-Estados:
      description: Estado retornado com sucesso
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
              msg:
                type: string
              state:
                type: object
                properties:
                  id_estado:
                    type: integer
                  nome_estado:
                    type: string
                  sigla_estado:
                    type: string
            x-examples:
              Example 1:
                success: true
                msg: Estado encontrado com sucesso
                state:
                  id_estado: 35
                  nome_estado: São Paulo
                  sigla_estado: SP
    200-Cidades:
      description: Cidade retornado com sucesso
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
              msg:
                type: string
              city:
                type: object
                properties:
                  id_cidade:
                    type: integer
                  nome_cidade:
                    type: string
                  id_estado:
                    type: integer
                  estado:
                    type: object
                    properties:
                      id_estado:
                        type: integer
                      nome_estado:
                        type: string
                      sigla_estado:
                        type: string
            x-examples:
              Example 1:
                success: true
                msg: Cidade encontrada com sucesso
                city:
                  id_cidade: 4
                  nome_cidade: Cacoal
                  id_estado: 11
                  estado:
                    id_estado: 11
                    nome_estado: Rondônia
                    sigla_estado: RO
    200-Cadeiras:
      description: Cadeiras retornadas com sucesso
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                description: Indica se a operação foi bem-sucedida.
              msg:
                type: string
                description: Mensagem informativa sobre o resultado da operação.
              chairs:
                type: array
                items:
                  type: object
                  properties:
                    id_cadeira:
                      type: integer
                      description: O identificador único da cadeira.
                    id_sala:
                      type: integer
                      description: O identificador da sala à qual a cadeira pertence.
                    linha:
                      type: string
                      description: A linha onde a cadeira está localizada.
                      maxLength: 1
                    numero:
                      type: integer
                      description: O número da cadeira na linha.
                    ativo:
                      type: boolean
                      description: Indica se a cadeira está ativa.
                      default: true
                x-examples:
                  Example 1:
                    success: true
                    msg: "Cadeiras processadas com sucesso"
                    chairs:
                      - id_cadeira: 1
                        id_sala: 3
                        linha: 'F'
                        numero: 32
                        ativo: true
                      - id_cadeira: 2
                        id_sala: 3
                        linha: 'B'
                        numero: 10
                        ativo: true
paths:
  /register:
    post:
      tags:
        - Sessao do usuario
      summary: Cadastro de Usuário
      description: Endpoint para registrar um novo usuário. O tipo de usuário é determinado com base no código de referência enviado na solicitação.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Usuarios'
      responses:
        '200':
          description: Cadastro bem-sucedido
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: Usuário cadastrado com sucesso
                  token:
                    type: string
                    example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        '400':
          description: Erro de validação ou de dados
          content:
            application/json:
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        msg:
                          type: string
                          example: "Email invalido"
                        path:
                          type: string
                          example: "email"
        '500':
          description: Erro interno do servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  msg:
                    type: string
                    example: Falha ao cadastrar o usuário
  /login:
    post:
      tags:
        - Sessao do usuario
      summary: Login de Usuário
      description: Endpoint para autenticar um usuário e gerar um token JWT.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                  example: "string@gmail.com"
                  description: "Email do usuário"
                senha:
                  type: string
                  example: "string"
                  description: "Senha do usuário"
      responses:
        '200':
          description: Login bem-sucedido
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  msg:
                    type: string
                    example: Login bem-sucedido
                  token:
                    type: string
                    example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        '400':
          description: Erro de validação ou de dados
          content:
            application/json:
              schema:
                type: object
                properties:
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        msg:
                          type: string
                          example: "Email invalido"
                        path:
                          type: string
                          example: "email"
        '500':
          description: Erro interno do servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  msg:
                    type: string
                    example: Falha ao realizar login
  /films:
    get:
      tags:
        - Gestão de filmes
      summary: Listar todos os filmes
      responses:
        '200':
          description: Lista de filmes retornada com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  msg:
                    type: string
                  films:
                    type: array
                    items:
                      $ref: '#/components/schemas/Filmes'
                  totalCount:
                    type: integer
                  totalPages:
                    type: integer
                  currentPage:
                    type: integer
        '400':
          $ref: '#/components/responses/400'
        '500':
          $ref: '#/components/responses/500'
      parameters:
        - schema:
            type: number
            example: 1
          in: query
          name: page
        - schema:
            type: number
            example: 10
          in: query
          name: limite
    post:
      tags:
        - Gestão de filmes
      summary: Criar um novo filme
      security:
        - JWT: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Filmes'
      responses:
        '200':
          $ref: '#/components/responses/200'
        '400':
          description: Erro na validação dos dados
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '500':
          description: Erro interno do servidor
      parameters: []
  '/films/{id}':
    get:
      tags:
        - Gestão de filmes
      summary: Buscar filme por ID
      parameters:
        - name: id
          in: path
          required: true
          description: ID do filme
          schema:
            type: integer
      responses:
        '200':
          $ref: '#/components/responses/200'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      operationId: ''
    put:
      tags:
        - Gestão de filmes
      summary: Atualizar um filme
      security:
        - JWT: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID do filme
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Filmes'
      responses:
        '200':
          $ref: '#/components/responses/200'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
    delete:
      tags:
        - Gestão de filmes
      summary: Excluir um filme
      security:
        - JWT: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID do filme
          schema:
            type: integer
      responses:
        '200':
          description: Filme excluído com sucesso
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
  /films/title:
    get:
      tags:
        - Gestão de filmes
      summary: Pesquisar filmes por título
      parameters:
        - name: title
          in: query
          required: true
          description: Título do filme para pesquisa
          schema:
            type: string
      responses:
        '200':
          description: Lista de filmes retornada com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  msg:
                    type: string
                  films:
                    type: array
                    items:
                      type: object
                      properties:
                        id_filme:
                          type: integer
                        id_api:
                          type: integer
                        titulo:
                          type: string
                        slug:
                          type: string
                        sinopse:
                          type: string
                        data_lancamento:
                          type: string
                        duracao:
                          type: integer
                        classificacao_etaria:
                          type: integer
                        poster_path:
                          type: string
                        trailer_url:
                          type: string
                        nota_imdb:
                          type: string
                        generos:
                          type: array
                          items:
                            type: object
                            properties:
                              id_genero:
                                type: integer
                              id_api:
                                type: integer
                              nome_genero:
                                type: string
        '400':
          $ref: '#/components/responses/400'
        '500':
          $ref: '#/components/responses/500'
  /films/age-rating:
    get:
      tags:
        - Gestão de filmes
      summary: Pesquisar filmes por classificação etária
      parameters:
        - name: ageRating
          in: query
          required: true
          description: Classificação etária para pesquisa
          schema:
            type: integer
        - name: page
          in: query
          description: Número da página para paginação
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          description: Número de filmes por página
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: Lista de filmes retornada com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  msg:
                    type: string
                  films:
                    type: array
                    items:
                      type: object
                      properties:
                        id_filme:
                          type: integer
                        id_api:
                          type: integer
                        titulo:
                          type: string
                        slug:
                          type: string
                        sinopse:
                          type: string
                        data_lancamento:
                          type: string
                        duracao:
                          type: integer
                        classificacao_etaria:
                          type: integer
                        poster_path:
                          type: string
                        trailer_url:
                          type: string
                        nota_imdb:
                          type: string
                        generos:
                          type: array
                          items:
                            type: object
                            properties:
                              id_genero:
                                type: integer
                              id_api:
                                type: integer
                              nome_genero:
                                type: string
                  totalCount:
                    type: integer
                  totalPages:
                    type: integer
                  currentPage:
                    type: integer
        '400':
          $ref: '#/components/responses/400'
        '500':
          $ref: '#/components/responses/500'
  /films/genre:
    get:
      tags:
        - Gestão de filmes
      summary: Listar filmes por gênero
      description: Retorna uma lista paginada de filmes filtrados por gênero.
      parameters:
        - in: query
          name: genreId
          schema:
            type: integer
          required: true
          description: ID do gênero para filtrar os filmes.
        - in: query
          name: page
          schema:
            type: integer
            default: 1
          description: Número da página para a paginação dos resultados.
        - in: query
          name: limit
          schema:
            type: integer
            default: 10
          description: Número de filmes por página para a paginação dos resultados.
      responses:
        '200':
          description: Lista de filmes retornada com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  msg:
                    type: string
                  films:
                    type: array
                    items:
                      type: object
                      properties:
                        id_filme:
                          type: integer
                        id_api:
                          type: integer
                        titulo:
                          type: string
                        slug:
                          type: string
                        sinopse:
                          type: string
                        data_lancamento:
                          type: string
                        duracao:
                          type: integer
                        classificacao_etaria:
                          type: integer
                        poster_path:
                          type: string
                        trailer_url:
                          type: string
                        nota_imdb:
                          type: string
                        generos:
                          type: array
                          items:
                            type: object
                            properties:
                              id_genero:
                                type: integer
                              id_api:
                                type: integer
                              nome_genero:
                                type: string
                  totalCount:
                    type: integer
                  totalPages:
                    type: integer
                  currentPage:
                    type: integer
                x-examples:
                  Example 1:
                    success: true
                    msg: Pesquisa solicitada com sucesso
                    films:
                      - id_filme: 1
                        id_api: null
                        titulo: Exemplo de Filme
                        slug: exemplo-de-filme
                        sinopse: Uma breve descrição do filme.
                        data_lancamento: '2024-09-01T00:00:00.000Z'
                        duracao: 120
                        classificacao_etaria: 12
                        poster_path: 'https://meupc.net/'
                        trailer_url: 'https://meupc.net/'
                        nota_imdb: '8.7'
                        generos:
                          - id_genero: 1
                            id_api: null
                            nome_genero: Aventura
                    totalCount: 1
                    totalPages: 1
                    currentPage: 1
        '400':
          $ref: '#/components/responses/400'
        '500':
          $ref: '#/components/responses/500'
  /genres:
    get:
      summary: Lista todos os gêneros
      tags:
        - Gerenciar generos
      responses:
        '200':
          $ref: '#/components/responses/200-Generos'
        '400':
          $ref: '#/components/responses/400'
        '500':
          $ref: '#/components/responses/500'
      operationId: get-genres
      parameters: []
    post:
      summary: Cria um novo gênero
      tags:
        - Gerenciar generos
      responses:
        '200':
          $ref: '#/components/responses/200-Generos'
        '400':
          $ref: '#/components/responses/400'
        '500':
          $ref: '#/components/responses/500'
      operationId: post-genres
      security:
        - JWT: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Generos'
  '/genres/{id}':
    get:
      summary: Buscar gêneros por ID
      tags:
        - Gerenciar generos
      responses:
        '200':
          $ref: '#/components/responses/200-Generos'
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      operationId: 'get-genres-:id'
    parameters:
      - schema:
          type: number
        name: id
        in: path
        required: true
    put:
      summary: Atualizar gênero
      tags:
        - Gerenciar generos
      responses:
        '200':
          $ref: '#/components/responses/200-Generos'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      operationId: put-genres-id
      security:
        - JWT: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Generos'
    delete:
      summary: Deletar gênero
      tags:
        - Gerenciar generos
      responses:
        '200':
          description: Genero excuido com sucesso
      operationId: delete-genres-id
      security:
        - JWT: []
  /states:
    get:
      summary: Lista todos os estados
      tags:
        - Gerenciar estados
      responses:
        '200':
          $ref: '#/components/responses/200-Estados'
        '400':
          $ref: '#/components/responses/400'
        '500':
          $ref: '#/components/responses/500'
      operationId: get-states
    post:
      summary: Criar um novo estado
      tags:
        - Gerenciar estados
      responses:
        '200':
          $ref: '#/components/responses/200-Generos'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '500':
          $ref: '#/components/responses/500'
      operationId: post-states
      security:
        - JWT: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Estados'
  '/states/{id}':
    parameters:
      - schema:
          type: number
        name: id
        in: path
        required: true
    get:
      summary: Buscar estados por ID
      tags:
        - Gerenciar estados
      responses:
        '200':
          $ref: '#/components/responses/200-Estados'
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      operationId: get-states-id
    delete:
      summary: Deletar estados
      tags:
        - Gerenciar estados
      responses:
        '200':
          description: Estado apagado com sucesso
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      operationId: delete-states-id
      security:
        - JWT: []
  '/states/{id}/cities':
    parameters:
      - schema:
          type: number
        name: id
        in: path
        required: true
    get:
      summary: Buscar cidades por estado
      tags:
        - Gerenciar estados
      responses:
        '200':
          description: Cidades retornada com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  msg:
                    type: string
                  cities:
                    type: array
                    items:
                      type: object
                      properties:
                        id_cidade:
                          type: integer
                        nome_cidade:
                          type: string
                        id_estado:
                          type: integer
                        estado:
                          type: object
                          properties:
                            id_estado:
                              type: integer
                            nome_estado:
                              type: string
                            sigla_estado:
                              type: string
                x-examples:
                  Example 1:
                    success: true
                    msg: Cidades encontradas com sucesso
                    cities:
                      - id_cidade: 1
                        nome_cidade: Alta Floresta D'Oeste
                        id_estado: 11
                        estado:
                          id_estado: 11
                          nome_estado: Rondônia
                          sigla_estado: RO
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      operationId: get-states-id-cities
  /cities:
    get:
      summary: Lista todas as cidades
      tags:
        - Gerenciar cidades
      responses:
        '200':
          $ref: '#/components/responses/200-Cidades'
        '400':
          $ref: '#/components/responses/400'
        '500':
          $ref: '#/components/responses/500'
      operationId: get-cities
    post:
      summary: Criar uma nova cidade
      tags:
        - Gerenciar cidades
      responses:
        '200':
          $ref: '#/components/responses/200-Cidades'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '500':
          $ref: '#/components/responses/500'
      operationId: post-cities
      security:
        - JWT: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Cidades'
  '/cities/{id}':
    parameters:
      - schema:
          type: number
        name: id
        in: path
        required: true
    get:
      summary: Buscar cidades por ID
      tags:
        - Gerenciar cidades
      responses:
        '200':
          $ref: '#/components/responses/200-Cidades'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      operationId: get-cities-id
    put:
      summary: Atualizar cidade
      tags:
        - Gerenciar cidades
      responses:
        '200':
          $ref: '#/components/responses/200-Cidades'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      operationId: put-cities-id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Cidades'
            examples: {}
      security:
        - JWT: []
    delete:
      summary: Deletar cidades
      tags:
        - Gerenciar cidades
      responses:
        '200':
          description: Cidade apagada com sucesso
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      operationId: delete-cities-id
      security:
        - JWT: []
  /rooms:
    get:
      summary: Lista todas as salas
      tags:
        - Gerenciar Salas
      responses:
        '200':
          $ref: '#/components/responses/200-Salas'
        '400':
          $ref: '#/components/responses/400'
        '500':
          $ref: '#/components/responses/500'
      operationId: get-rooms
    post:
      summary: Criar uma nova sala
      tags:
        - Gerenciar Salas
      responses:
        '200':
          $ref: '#/components/responses/200-Salas'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '500':
          $ref: '#/components/responses/500'
      operationId: post-rooms
      security:
        - JWT: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Salas'
            example:
              nome_sala: 'ROOMEXEMPLO'
              id_tipo_sala: 1
              ativo: true
  '/rooms/{id}':
    parameters:
      - schema:
          type: number
        name: id
        in: path
        required: true
    get:
      summary: Buscar salas por ID
      tags:
        - Gerenciar Salas
      responses:
        '200':
          $ref: '#/components/responses/200-Salas'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      operationId: get-rooms-id
    put:
      summary: Atualizar salas
      tags:
        - Gerenciar Salas
      responses:
        '200':
          $ref: '#/components/responses/200-Salas'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      operationId: put-rooms-id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Salas'
            example:
              nome_sala: 'ROOMEXEMPLO'
              id_tipo_sala: 1
              ativo: true
      security:
        - JWT: []
    delete:
      summary: Deletar salas
      tags:
        - Gerenciar Salas
      responses:
        '200':
          description: Sala apagada com sucesso
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      operationId: delete-rooms-id
      security:
        - JWT: []
  /room-type:
    get:
      summary: Lista todos os tipos de salas
      tags:
        - Gerenciar Tipos de Salas
      responses:
        '200':
          $ref: '#/components/responses/200-TipoSalas'
        '400':
          $ref: '#/components/responses/400'
        '500':
          $ref: '#/components/responses/500'
      operationId: get-type-rooms
    post:
      summary: Criar uma nova sala
      tags:
        - Gerenciar Tipos de Salas
      responses:
        '200':
          $ref: '#/components/responses/200-TipoSalas'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '500':
          $ref: '#/components/responses/500'
      operationId: post-type-rooms
      security:
        - JWT: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Salas'
            example:
              descricao: 'IMEX'
  '/room-type/{id_tipo_sala}':
    parameters:
      - schema:
          type: number
        name: id_tipo_sala
        in: path
        required: true
    get:
      summary: Buscar tipos de salas por ID
      tags:
        - Gerenciar Tipos de Salas
      responses:
        '200':
          $ref: '#/components/responses/200-TipoSalas'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      operationId: get-type-rooms-id
    put:
      summary: Atualizar tipos de salas
      tags:
        - Gerenciar Tipos de Salas
      responses:
        '200':
          $ref: '#/components/responses/200-TipoSalas'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      operationId: put-type-rooms-id
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TipoSalas'
            examples: {}
      security:
        - JWT: []
    delete:
      summary: Deletar tipos de salas
      tags:
        - Gerenciar Tipos de Salas
      responses:
        '200':
          description: Tipo de Sala apagada com sucesso
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      operationId: delete-type-rooms-id
      security:
        - JWT: []
  '/chairs/{id_sala}':
    get:
      summary: Lista todas as cadeiras de uma sala
      tags:
        - Gerenciar Cadeiras
      parameters:
        - name: id_sala
          in: path
          required: true
          description: O ID da sala para listar as cadeiras.
          schema:
            type: integer
      responses:
        '200':
          $ref: '#/components/responses/200-Cadeiras'
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      operationId: get-chairs-by-room

  '/rooms/{id_sala}/chairs':
    post:
      summary: Adicionar novas cadeiras
      tags:
        - Gerenciar Cadeiras
      parameters:
        - name: id_sala
          in: path
          required: true
          description: O ID da sala para cadastrar as cadeiras.
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                id_sala:
                  type: integer
                  description: O ID da sala onde as cadeiras serão adicionadas.
                cadeiras:
                  type: array
                  items:
                    type: object
                    properties:
                      linha:
                        type: string
                        description: A linha onde a cadeira está localizada.
                        maxLength: 1
                      numero:
                        type: integer
                        description: O número da cadeira na linha.
              required:
                - id_sala
                - cadeiras
            example:
                - linha: 'A'
                  numero: 1
                - linha: 'A'
                  numero: 1
      responses:
        '200':
          $ref: '#/components/responses/200-Cadeiras'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '500':
          $ref: '#/components/responses/500'
      operationId: post-chairs
      security:
        - JWT: []

  /rooms/{id_sala}/chairs/{id_cadeira}:
    parameters:
      - name: id_sala
        in: path
        required: true
        description: O ID da sala a selecionada.
        schema:
          type: integer
      - name: id_cadeira
        in: path
        required: true
        description: O ID da cadeira que pretende buscar.
        schema:
          type: integer
    get:
      summary: Buscar cadeira por ID
      tags:
        - Gerenciar Cadeiras
      responses:
        '200':
          $ref: '#/components/responses/200-Cadeiras'
        '400':
          $ref: '#/components/responses/400'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      operationId: get-chair-by-id

  /chairs/{id_cadeira}:
    parameters:
      - name: id_cadeira
        in: path
        required: true
        description: O ID da cadeira a ser atualizada ou deletada.
        schema:
          type: integer
    put:
      summary: Atualizar informações da cadeira
      tags:
        - Gerenciar Cadeiras
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                linha:
                  type: string
                  description: A nova linha onde a cadeira está localizada.
                  maxLength: 1
                numero:
                  type: integer
                  description: O novo número da cadeira na linha.
                ativo:
                  type: boolean
                  description: Define se a cadeira está ativa ou não.
            example:

              ativo: true
      responses:
        '200':
          $ref: '#/components/responses/200-Cadeiras'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      operationId: put-chair
      security:
        - JWT: []

    delete:
      summary: Deletar cadeira por ID
      tags:
        - Gerenciar Cadeiras
      responses:
        '200':
          description: Cadeira deletada com sucesso
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
      operationId: delete-chair
      security:
        - JWT: []

  /ticket-type:
    post:
      summary: Criar um novo tipo de ingresso
      tags:
        - Gerenciar Tipos de ingresso
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TipoIngresso'
            examples:
              Example 1:
                value:
                  descricao: "Inteira"
      security:
        - JWT: [ ]
      responses:
        200:
          description: Tipo de ingresso criado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TipoIngresso'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '500':
          $ref: '#/components/responses/500'

    get:
      summary: Obter todos os tipos de ingresso
      tags:
        - Gerenciar Tipos de ingresso
      responses:
        200:
          description: Lista de tipos de ingresso recuperada com sucesso
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TipoIngresso'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '500':
          $ref: '#/components/responses/500'

  /ticket-type/{id_tipo}:
    get:
      summary: Obter um tipo de ingresso
      tags:
        - Gerenciar Tipos de ingresso
      parameters:
        - name: id_tipo
          in: path
          required: true
          description: ID do tipo de ingresso a ser recuperado
          schema:
            type: integer
      responses:
        200:
          description: Tipo de ingresso recuperado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TipoIngresso'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'

    put:
      summary: Atualizar um tipo de ingresso existente
      tags:
        - Gerenciar Tipos de ingresso
      parameters:
        - name: id_tipo
          in: path
          required: true
          description: ID do tipo de ingresso a ser atualizado
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TipoIngresso'
            examples:
              Example 1:
                value:
                  descricao: "Inteira"
      security:
        - JWT: [ ]
      responses:
        200:
          description: Tipo de ingresso atualizado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TipoIngresso'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'

    delete:
      summary: Remover um tipo de ingresso existente
      tags:
        - Gerenciar Tipos de ingresso
      parameters:
        - name: id_tipo
          in: path
          required: true
          description: ID do tipo de ingresso a ser removido
          schema:
            type: integer
      security:
        - JWT: [ ]
      responses:
        204:
          description: Tipo de ingresso removido com sucesso
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'

  /sessions:
    post:
      summary: Criar uma nova sessão de filme
      tags:
        - Gerenciar Sessões
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Sessao'
            examples:
              Example 1:
                value:
                  id_filme: 1
                  id_sala: 1
                  data_sessao: "2024-10-03T18:00:00Z"
      security:
        - JWT: [ ]
      responses:
        200:
          description: Sessão criada com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Sessao'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
    get:
      summary: Obter todas as sessões
      tags:
        - Gerenciar Sessões
      responses:
        200:
          description: Lista de todas as sessões recuperada com sucesso
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Sessao'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '500':
          $ref: '#/components/responses/500'

  /sessions/{id_sessao}:
    get:
      summary: Obter uma sessão
      tags:
        - Gerenciar Sessões
      parameters:
        - name: id_sessao
          in: path
          required: true
          description: ID da sessao a ser recuperada
          schema:
            type: integer
      responses:
        200:
          description: Sessão encontrada com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Sessao'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'

    put:
      summary: Atualizar uma sessao
      tags:
        - Gerenciar Sessões
      parameters:
        - name: id_sessao
          in: path
          required: true
          description: ID da sessao a ser atualizada
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Sessao'
            examples:
              Example 1:
                value:
                  id_filme: 1
                  id_sala: 1
                  data_sessao: "2024-10-03T18:00:00Z"
      security:
        - JWT: [ ]
      responses:
        200:
          description: Sessão atualizada com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Sessao'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'

    delete:
      summary: Remover uma sessão existente
      tags:
        - Gerenciar Sessões
      parameters:
        - name: id_sessao
          in: path
          required: true
          description: ID da sessao a ser removida
          schema:
            type: integer
      security:
        - JWT: [ ]
      responses:
        204:
          description: Sessão removida com sucesso
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'

  /sessions/movie/{id_filme}:
    get:
      summary: Obter sessões por filme
      tags:
        - Gerenciar Sessões
      parameters:
        - name: id_filme
          in: path
          required: true
          description: ID do filme a ser recuperado
          schema:
            type: integer
      responses:
        200:
          description: Sessão encontrada com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Sessao'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'

  /sessions/date-range:
    get:
      summary: Obter sessões por filme
      tags:
        - Gerenciar Sessões
      parameters:
        - name: startDate
          in: query
          required: true
          description: Data inicial da pesquisa
          schema:
            type: string
            format: date-time
        - name: endDate
          in: query
          required: true
          description: Data final da pesquisa
          schema:
            type: string
            format: date-time
      responses:
        200:
          description: Sessões encontrada com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Sessao'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'

  /sessions/this-week:
    get:
      summary: Obter filmes com sessões nesta semana
      tags:
        - Gerenciar Sessões
      responses:
        200:
          description: Lista de filmes com sessões nesta semana recuperada com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: Indica se a operação foi bem-sucedida
                    example: true
                  msg:
                    type: string
                    description: Mensagem informando o status da operação
                    example: 'Filmes com sessões nesta semana'
                  films:
                    type: array
                    items:
                      $ref: '#/components/schemas/Sessao'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '500':
          $ref: '#/components/responses/500'

  /ticket-price:
    post:
      summary: Criar um novo preço de ingresso
      tags:
        - Gerenciar Preços de Ingressos
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PrecoIngresso'
            examples:
              Example 1:
                value:
                  id_sessao: 4
                  id_tipo: 1
                  preco: "30.00"
      security:
        - JWT: [ ]
      responses:
        200:
          description: Preço de ingresso criado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PrecoIngresso'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '500':
          $ref: '#/components/responses/500'

    get:
      summary: Obter todos os preços de ingresso
      tags:
        - Gerenciar Preços de Ingressos
      responses:
        200:
          description: Lista de preços de ingressos recuperada com sucesso
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PrecoIngresso'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '500':
          $ref: '#/components/responses/500'

  /ticket-price/{id_preco}:
    get:
      summary: Obter um preço de ingresso
      tags:
        - Gerenciar Preços de Ingressos
      parameters:
        - name: id_preco
          in: path
          required: true
          description: ID do preço de ingresso a ser recuperado
          schema:
            type: integer
      responses:
        200:
          description: Preço de ingresso recuperado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PrecoIngresso'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'

    delete:
      summary: Remover um preço de ingresso existente
      tags:
        - Gerenciar Preços de Ingressos
      parameters:
        - name: id_preco
          in: path
          required: true
          description: ID do preço de ingresso a ser removido
          schema:
            type: integer
      security:
        - JWT: [ ]
      responses:
        204:
          description: Preço de ingresso removido com sucesso
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'

  /ticket-price/{id_preco}/session/{id_sessao}/ticket-type/{id_tipo}:
    put:
      summary: Atualizar um preço de ingresso existente
      tags:
        - Gerenciar Preços de Ingressos
      parameters:
        - name: id_preco
          in: path
          required: true
          description: ID do preço de ingresso a ser atualizado
          schema:
            type: integer
        - name: id_sessao
          in: path
          required: true
          description: ID da sessão associada ao preço de ingresso
          schema:
            type: integer
        - name: id_tipo
          in: path
          required: true
          description: ID do tipo de ingresso associado
          schema:
            type: integer
      security:
        - JWT: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PrecoIngresso'
            examples:
              Example 1:
                value:
                  preco: "30.00"
      responses:
        200:
          description: Preço de ingresso atualizado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PrecoIngresso'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'

  '/bookings':
    post:
      summary: Criar uma nova reserva
      tags:
        - Gerenciar Reservas
      security:
        - JWT: []  # Esquema de segurança JWT
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                id_sessao:
                  type: integer
                  description: ID da sessão para a qual a reserva está sendo feita
                Cadeiras:
                  type: array
                  items:
                    type: object
                    properties:
                      id_cadeira:
                        type: integer
                        description: ID da cadeira que está sendo reservada
                      id_tipo_ingresso:
                        type: integer
                        description: ID do tipo de ingresso para a cadeira
                  description: Lista de cadeiras a serem reservadas
              required:
                - id_usuario
                - id_sessao
                - Cadeiras
      responses:
        201:
          description: Reserva criada com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  msg:
                    type: string
                    example: "Reserva criada com sucesso"
                  booking:
                    type: object
                    properties:
                      id_reserva:
                        type: integer
                        example: 1
                      id_usuario:
                        type: integer
                        example: 1
                      id_sessao:
                        type: integer
                        example: 1
                      data_reserva:
                        type: string
                        format: date-time
                        example: "2024-10-04T10:00:00Z"
                      Cadeiras:
                        type: array
                        items:
                          type: object
                          properties:
                            id_cadeira:
                              type: integer
                              example: 4
                            id_tipo_ingresso:
                              type: integer
                              example: 2
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'

    get:
      summary: Obter todas as reservas
      tags:
        - Gerenciar Reservas
      security:
        - JWT: []
      responses:
        200:
          description: Todas as reservas obtidas com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  msg:
                    type: string
                    example: "Todas as reservas obtidas com sucesso"
                  bookings:
                    type: array
                    items:
                      type: object
                      properties:
                        id_reserva:
                          type: integer
                          description: O identificador único da reserva.
                          example: 1
                        id_usuario:
                          type: integer
                          description: ID do usuário que fez a reserva.
                          example: 1
                        id_sessao:
                          type: integer
                          description: ID da sessão para a qual a reserva foi feita.
                          example: 1
                        Cadeiras:
                          type: array
                          items:
                            type: object
                            properties:
                              id_cadeira:
                                type: integer
                                description: O identificador único da cadeira reservada.
                                example: 4
                              linha:
                                type: string
                                description: A linha onde a cadeira está localizada.
                                example: 'A'
                              numero:
                                type: integer
                                description: O número da cadeira na linha.
                                example: 1
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'

  '/bookings/user/all-my-user':
    get:
      summary: Obter todas as reservas do usuário autenticado
      tags:
        - Gerenciar Reservas
      security:
        - JWT: []  # Nome do esquema de segurança, se necessário
      responses:
        200:
          description: Reservas do usuário recuperadas com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  msg:
                    type: string
                  bookings:
                    type: array
                    items:
                      $ref: '#/components/schemas/Reserva'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'

  '/bookings/user/{id_reserva}':
    get:
      summary: Obter uma reserva específica do usuário
      tags:
        - Gerenciar Reservas
      parameters:
        - name: id_reserva
          in: path
          required: true
          description: ID da reserva a ser recuperada
          schema:
            type: integer
      security:
        - JWT: []
      responses:
        200:
          description: Reserva recuperada com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  msg:
                    type: string
                  booking:
                    $ref: '#/components/schemas/Reserva'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'

  /bookings/{id_reserva}/confirm:
    put:
      summary: Confirmar uma reserva
      tags:
        - Gerenciar Reservas
      security:
        - JWT: []  # Autenticação usando JWT
      parameters:
        - name: id_reserva
          in: path
          required: true
          description: ID da reserva a ser confirmada
          schema:
            type: integer
      responses:
        200:
          description: Reserva confirmada com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                    example: Reserva confirmada com sucesso
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'


  /bookings/{id_reserva}/cancel:
    put:
      summary: Cancelar uma reserva
      tags:
        - Gerenciar Reservas
      security:
        - JWT: []  # Autenticação usando JWT
      parameters:
        - name: id_reserva
          in: path
          required: true
          description: ID da reserva a ser cancelada
          schema:
            type: integer
      responses:
        200:
          description: Reserva cancelada com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  msg:
                    type: string
                    example: Reserva cancelada com sucesso
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
